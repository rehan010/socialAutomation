{% extends "registration/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Account Connections" %}{% endblock %}

{% block content %}

<div class="flex items-center justify-center min-h-screen">
    <div class="max-w-2xl w-full bg-white p-8 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold mb-6">{% trans "Account Connections" %}</h2>


        {% if form.accounts %}
        <p class="text-sm text-gray-600">{% blocktrans %}You can sign in to your account using any of the following
            third-party accounts:{% endblocktrans %}</p>
        <br>
        <form method="post" action="{% url 'socialaccount_connections' %}">
            {% csrf_token %}

            <fieldset>
                {% if form.non_field_errors %}
                <div class="error-msg">{{ form.non_field_errors }}</div>
                {% endif %}

                {% for base_account in form.accounts %}
                {% with base_account.get_provider_account as account %}
                <div class="account-item">
                    <label for="id_account_{{ base_account.id }}" class="flex items-center">
                        <input id="id_account_{{ base_account.id }}" type="radio" name="account"
                               value="{{ base_account.id }}" class="mr-2"/>
                        <span class="socialaccount_provider {{ base_account.provider }} {{ account.get_brand.id }}">{{ account.get_brand.name }}</span>
                        <p class="text-sm text-gray-600 "> &nbsp;{{ account }}</p>
                    </label>
                </div>
                {% endwith %}
                {% endfor %}

                <div>
                    <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">
                        {% trans 'Remove' %}
                    </button>
                </div>
            </fieldset>
        </form>

        {% else %}
        <p class="text-sm text-gray-600"> {% trans 'You currently have no social network accounts connected to this
            account.' %}</p>
        {% endif %}
        <br>
        <hr>
        <br>
        <h2 class="text-2xl font-semibold mb-6">{% trans "Add a 3rd Party Account" %}</h2>

        <div class="flex justify-center items-center  mb-4  border-gray-300 ">

            <ul class="socialaccount_providers">
                {% include "socialaccount/snippets/provider_list.html" with process="connect" %}
            </ul>
        </div>

        {% include "socialaccount/snippets/login_extra.html" %}
    </div>
</div>
{% endblock %}
